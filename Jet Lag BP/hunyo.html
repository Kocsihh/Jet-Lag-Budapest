<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jet Lag Budapest: Huny√≥ Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #020c1b;
            --bg-nav: #0a192f;
            --bg-card: #112240;
            --accent: #64ffda;
            --text-main: #ccd6f6;
            --text-dim: #8892b0;
            --danger: #f44336;
            --glass: rgba(17, 34, 64, 0.7);
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-deep);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
            width: 100%;
            max-width: 600px;
        }

        h1 {
            color: var(--accent);
            font-size: 1.8rem;
            margin: 0;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .stats {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Home Button */
        .home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--glass);
            border: 1px solid var(--accent);
            color: var(--accent);
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 1.5rem;
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: 0.3s ease;
        }

        .home-btn:hover {
            background: var(--accent);
            color: var(--bg-deep);
        }

        /* Timer Section */
        #timer-container {
            position: sticky;
            top: 10px;
            z-index: 900;
            background: var(--glass);
            border: 2px solid var(--accent);
            backdrop-filter: blur(15px);
            padding: 15px;
            margin-bottom: 20px;
            width: 90%;
            max-width: 400px;
            border-radius: 16px;
            display: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
        }

        #timer-display {
            font-size: 3rem;
            font-weight: 700;
            color: var(--accent);
            font-family: 'Courier New', Courier, monospace;
            margin: 5px 0;
        }

        .timer-msg {
            font-size: 0.8rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .control-btn {
            flex: 1;
            padding: 8px;
            font-size: 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            border: 1px solid var(--text-dim);
            background: transparent;
            color: var(--text-dim);
            transition: 0.3s;
        }

        .control-btn.undo {
            border-color: #ffca28;
            color: #ffca28;
        }

        .control-btn.reset {
            border-color: var(--danger);
            color: var(--danger);
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Grid Layout */
        .dashboard-grid {
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .category-section {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(100, 255, 218, 0.1);
        }

        .category-title {
            color: var(--accent);
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            gap: 12px;
        }

        .q-btn {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px 10px;
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            font-size: 0.85rem;
            text-align: center;
        }

        .q-btn:hover {
            background: rgba(100, 255, 218, 0.05);
            border-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(100, 255, 218, 0.1);
        }

        .q-btn:active {
            transform: scale(0.95);
        }

        .q-btn img {
            width: 40px;
            height: 40px;
            object-fit: contain;
            opacity: 0.8;
            filter: drop-shadow(0 0 5px rgba(100, 255, 218, 0.3));
        }

        .q-btn span {
            font-weight: 500;
        }

        /* History Log */
        #log {
            width: 100%;
            max-width: 600px;
            margin-top: 30px;
            background: var(--bg-card);
            border-radius: 20px;
            padding: 20px;
            box-sizing: border-box;
        }

        .log-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }

        .log-entry {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.9rem;
        }

        .log-time {
            color: var(--text-dim);
            font-family: monospace;
        }

        .log-text {
            flex: 1;
            margin-left: 15px;
        }

        .disabled {
            opacity: 0.3;
            pointer-events: none;
            filter: grayscale(1);
        }

        /* Specific section icons or styles */
        .section-foto {
            border-color: rgba(244, 67, 54, 0.2);
        }

        .section-foto .category-title {
            color: var(--danger);
        }

        .section-foto .q-btn:hover {
            border-color: var(--danger);
            box-shadow: 0 5px 15px rgba(244, 67, 54, 0.1);
        }
    </style>
</head>

<body>
    <a href="./index.html" class="home-btn">üè†</a>
    <header>
        <h1>Huny√≥ Dashboard</h1>
        <div class="stats">V√°lassz k√©rd√©st √©s r√∂gz√≠tsd a v√°laszt!</div>
    </header>

    <!-- Timer Section -->
    <div id="timer-container">
        <div class="timer-msg" id="timer-label">V√°rakoz√°s a k√∂vetkez≈ë k√©rd√©sig...</div>
        <div id="timer-display">05:00</div>
        <div class="timer-controls">
            <button class="control-btn undo" onclick="undoLast()">Visszavon√°s</button>
            <button class="control-btn reset" onclick="resetTimer()">Reset</button>
        </div>
    </div>

    <div class="dashboard-grid" id="main-grid">
        <!-- Egyeztet≈ë questions -->
        <section class="category-section">
            <div class="category-title">ü§ù Egyeztet≈ë K√©rd√©sek</div>
            <div class="button-grid">
                <button class="q-btn" onclick="askQuestion('Pest / Buda (3 lap)', 5)">
                    <img src="assets/pest_buda.png" alt="P/B">
                    <span>Pest / Buda</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Ugyanaz a villamosvonal?', 1)">
                    <img src="assets/tram.png" alt="Tram">
                    <span>Villi?</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Ugyanaz a metr√≥vonal?', 5)">
                    <img src="assets/metro.png" alt="Metro">
                    <span>Metr√≥?</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Ugyanaz a ker√ºlet?', 5)">
                    <img src="assets/district.png" alt="Dist">
                    <span>Ker√ºlet?</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Legk√∂zelebbi k√≥rh√°z?', 5)">
                    <img src="assets/hospital.png" alt="Hosp">
                    <span>K√≥rh√°z?</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Legk√∂zelebbi mozi?', 5)">
                    <img src="assets/cinema.png" alt="Cinema">
                    <span>Mozi?</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Legk√∂zelebbi Meki?', 5)">
                    <img src="assets/mcdonalds.png" alt="Meki">
                    <span>Meki?</span>
                </button>
            </div>
        </section>

        <!-- M√©r≈ë questions -->
        <section class="category-section">
            <div class="category-title">üìè M√©r≈ë K√©rd√©sek</div>
            <div class="button-grid">
                <button class="q-btn" onclick="askQuestion('K√∂zelebb: K√≥rh√°z?', 5)">
                    <span>K√≥rh√°z?</span>
                </button>
                <button class="q-btn" onclick="askQuestion('K√∂zelebb: Mozi?', 5)">
                    <span>Mozi?</span>
                </button>
                <button class="q-btn" onclick="askQuestion('K√∂zelebb: Meki?', 5)">
                    <span>Meki?</span>
                </button>
                <button class="q-btn" onclick="askQuestion('K√∂zelebb: Rept√©r', 5)">
                    <span>Rept√©r</span>
                </button>
                <button class="q-btn" onclick="askQuestion('K√∂zelebb: √Ållatkert', 5)">
                    <span>√Ållatkert</span>
                </button>
                <button class="q-btn" onclick="askQuestion('K√∂zelebb: Vid√°mpark', 5)">
                    <span>Vid√°mpark</span>
                </button>
            </div>
        </section>

        <!-- Radar -->
        <section class="category-section">
            <div class="category-title">üì° Radar</div>
            <div class="button-grid">
                <button class="q-btn" onclick="askQuestion('Radar: 500m', 5)"><span>500m</span></button>
                <button class="q-btn" onclick="askQuestion('Radar: 1km', 5)"><span>1km</span></button>
                <button class="q-btn" onclick="askQuestion('Radar: Egy√©ni', 5)"><span>Egy√©ni</span></button>
            </div>
        </section>

        <!-- H≈ëm√©r≈ë -->
        <section class="category-section">
            <div class="category-title">üå°Ô∏è H≈ëm√©r≈ë</div>
            <div class="button-grid">
                <button class="q-btn" onclick="askQuestion('H≈ëm√©r≈ë: 2km', 5)"><span>2km</span></button>
                <button class="q-btn" onclick="askQuestion('H≈ëm√©r≈ë: 5km', 5)"><span>5km</span></button>
            </div>
        </section>

        <!-- Fot√≥ -->
        <section class="category-section section-foto">
            <div class="category-title">üì∏ Fot√≥ Kih√≠v√°sok</div>
            <div class="button-grid">
                <button class="q-btn" onclick="askQuestion('Fot√≥: Legmagasabb √©p√ºlet', 10)">
                    <span>Legmagasabb √©p√ºlet</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Fot√≥: K√∂zeli √©p√ºlet', 10)">
                    <span>K√∂zeli √©p√ºlet</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Fot√≥: √âgbolt (v√≠zszintesen)', 10)">
                    <span>√âgbolt</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Fot√≥: Egy fa', 10)">
                    <span>Egy fa</span>
                </button>
                <button class="q-btn" onclick="askQuestion('Fot√≥: Szelfi', 10)">
                    <span>Szelfi</span>
                </button>
            </div>
        </section>
    </div>

    <!-- Log -->
    <div id="log">
        <div class="log-header">
            <strong>EL≈êZM√âNYEK</strong>
            <span id="log-count" style="font-size: 0.8rem; opacity: 0.5;">0 bejegyz√©s</span>
        </div>
        <div id="log-content"></div>
    </div>

    <script>
        let countdown;
        let lastAction = null;

        function askQuestion(qName, minutes) {
            const now = new Date();
            const timeStr = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

            // Save state for undo
            lastAction = {
                name: qName,
                timestamp: now,
                minutes: minutes
            };

            // Add to log
            addLogEntry(timeStr, qName);

            // Start timer
            startTimer(minutes, `K√©rdezve: ${qName}`);
        }

        function addLogEntry(time, text) {
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `<span class="log-time">[${time}]</span><span class="log-text">${text}</span>`;
            document.getElementById('log-content').prepend(entry);

            const count = document.getElementById('log-content').children.length;
            document.getElementById('log-count').innerText = `${count} bejegyz√©s`;
        }

        function startTimer(minutes, labelText) {
            clearInterval(countdown);

            const container = document.getElementById('timer-container');
            const display = document.getElementById('timer-display');
            const label = document.getElementById('timer-label');
            const grid = document.getElementById('main-grid');

            label.innerText = labelText;
            container.style.display = 'block';
            grid.classList.add('disabled');

            let seconds = minutes * 60;

            const updateDisplay = () => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                display.innerText = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            };

            updateDisplay();

            countdown = setInterval(() => {
                seconds--;
                updateDisplay();

                if (seconds <= 0) {
                    stopTimer();
                    alert("A v√°rakoz√°si id≈ë lej√°rt! √öj k√©rd√©st tehetsz fel.");
                }
            }, 1000);
        }

        function stopTimer() {
            clearInterval(countdown);
            document.getElementById('timer-container').style.display = 'none';
            document.getElementById('main-grid').classList.remove('disabled');
        }

        function undoLast() {
            if (confirm("Biztosan visszavonod az utols√≥ k√©rd√©st?")) {
                stopTimer();
                const logContent = document.getElementById('log-content');
                if (logContent.firstChild) {
                    logContent.removeChild(logContent.firstChild);
                    const count = logContent.children.length;
                    document.getElementById('log-count').innerText = `${count} bejegyz√©s`;
                }
                lastAction = null;
            }
        }

        function resetTimer() {
            if (confirm("Biztosan manu√°lisan t√∂rl√∂d a timert?")) {
                stopTimer();
            }
        }
    </script>
</body>

</html>