<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jet Lag Budapest: Huny√≥ Dashboard</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            background: #0a192f;
            color: white;
            padding: 10px;
            margin: 0;
        }

        h1 {
            color: #64ffda;
            font-size: 1.2em;
            margin: 5px 0;
        }

        .stats {
            color: #8892b0;
            font-size: 0.75em;
            margin-bottom: 10px;
        }

        /* Timer Section */
        #timer-container {
            background: #112240;
            border: 2px solid #64ffda;
            padding: 15px;
            margin: 10px auto;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            display: none;
            box-sizing: border-box;
        }

        #timer-display {
            font-size: 2.5em;
            font-weight: bold;
            color: #64ffda;
            font-family: monospace;
        }

        .timer-msg {
            font-style: italic;
            color: #ccd6f6;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        /* Question Console */
        .console {
            background: #112240;
            padding: 15px;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            margin: 0 auto 10px;
            text-align: left;
            box-sizing: border-box;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #64ffda;
            font-size: 0.9em;
        }

        select,
        input {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #1d2d44;
            background: #233554;
            color: white;
            margin-bottom: 15px;
            box-sizing: border-box;
            font-size: 1rem;
        }

        button {
            background: #64ffda;
            color: #0a192f;
            border: none;
            padding: 14px 20px;
            font-size: 1em;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            transition: 0.3s;
            touch-action: manipulation;
        }

        button:active {
            filter: brightness(0.8);
            transform: scale(0.98);
        }

        button:disabled {
            background: #444;
            color: #888;
            cursor: not-allowed;
        }

        /* Curse Tracker */
        .curse-area {
            border-top: 1px solid #233554;
            padding-top: 15px;
            margin-top: 10px;
        }

        .curse-btn {
            background: #f44336;
            color: white;
            margin-bottom: 10px;
            border: none;
        }

        /* History Log */
        #log {
            width: 90%;
            max-width: 400px;
            margin: 15px auto;
            text-align: left;
            font-size: 0.85em;
            background: #020c1b;
            padding: 10px;
            border-radius: 8px;
            color: #8892b0;
            box-sizing: border-box;
        }

        .log-entry {
            border-bottom: 1px dashed #233554;
            padding: 5px 0;
        }

        .home-btn {
            background: rgba(100, 255, 218, 0.1);
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 8px;
            font-size: 1.2em;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: #64ffda;
            z-index: 100;
            border: 1px solid #64ffda;
        }
    </style>
</head>

<body>
    <a href="./index.html" class="home-btn" title="Vissza a men√ºbe">üè†</a>
    <h1>HUNY√ì DASHBOARD</h1>
    <div class="stats">V√°rakoz√°si id≈ë √©s k√©rd√©sk√∂vet≈ë</div>

    <!-- Timer Section -->
    <div id="timer-container">
        <div class="timer-msg" id="timer-label">V√°rakoz√°s a k√∂vetkez≈ë k√©rd√©sig...</div>
        <div id="timer-display">05:00</div>
    </div>

    <!-- Question Console -->
    <div id="main-console" class="console">
        <label>1. K√©rd√©s t√≠pusa:</label>
        <select id="q-type">
            <option value="normal">Radar (500m / 1km / 2km)</option>
            <option value="normal">H≈ëm√©r≈ë (Melegszik / H≈±l)</option>
            <option value="normal">Egyez√©s (Vonal / Ker√ºlet)</option>
            <option value="photo">Fot√≥ K√©r√©s (10 perc b√ºntet√©s!)</option>
        </select>

        <label>2. B√∫j√≥ v√°lasza:</label>
        <input type="text" id="q-answer" placeholder="Pl: Igen / 1.2 km / K√©p elk√ºldve">

        <button id="submit-btn" onclick="logAnswer()">V√ÅLASZ R√ñGZ√çT√âSE √âS V√ÅRAKOZ√ÅS</button>
    </div>

    <!-- Active Curse Section -->
    <div class="console curse-area">
        <label>Akt√≠v √Åtok (B√∫j√≥ j√°tszotta ki):</label>
        <button class="curse-btn" onclick="startCurseTimer(5)">5 perc √Åtok (pl. V√°rakoz√°s)</button>
        <button class="curse-btn" onclick="startCurseTimer(10)">10 perc √Åtok (pl. Z√°szl√≥keres√©s)</button>
    </div>

    <div id="log">
        <strong>EL≈êZM√âNYEK:</strong>
        <div id="log-content"></div>
    </div>

    <script>
        let countdown;

        function logAnswer() {
            const type = document.getElementById('q-type').value;
            const answer = document.getElementById('q-answer').value;

            if (!answer) { alert("√çrd be a v√°laszt!"); return; }

            // Logol√°s
            const now = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `[${now}] <b>${answer}</b> (T√≠pus: ${type === 'photo' ? 'Fot√≥' : 'Sima'})`;
            document.getElementById('log-content').prepend(entry);

            // Mez≈ëk √ºr√≠t√©se
            document.getElementById('q-answer').value = '';

            // Timer ind√≠t√°sa
            const waitMinutes = type === 'photo' ? 10 : 5;
            startTimer(waitMinutes, "B√∫j√≥ v√°laszolt. K√∂telez≈ë v√°rakoz√°s:");
        }

        function startTimer(minutes, labelText) {
            clearInterval(countdown);
            document.getElementById('main-choice-area')?.classList.add('disabled'); // if choice area existed
            document.getElementById('main-console').style.opacity = "0.3";
            document.getElementById('submit-btn').disabled = true;

            const container = document.getElementById('timer-container');
            const display = document.getElementById('timer-display');
            const label = document.getElementById('timer-label');

            label.innerText = labelText;
            container.style.display = 'block';

            let seconds = minutes * 60;

            countdown = setInterval(() => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                display.innerText = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;

                if (seconds <= 0) {
                    clearInterval(countdown);
                    container.style.display = 'none';
                    document.getElementById('main-console').style.opacity = "1";
                    document.getElementById('submit-btn').disabled = false;
                    alert("Lej√°rt a v√°rakoz√°si id≈ë! √öj k√©rd√©st tehettek fel.");
                }
                seconds--;
            }, 1000);
        }

        function startCurseTimer(minutes) {
            if (confirm(`Elkezditek teljes√≠teni az √°tkot (${minutes} perc)?`)) {
                startTimer(minutes, "√ÅTOK FOLYAMATBAN (Nincs mozg√°s/k√©rd√©s):");
            }
        }
    </script>
</body>

</html>